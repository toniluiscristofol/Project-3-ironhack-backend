(this["webpackJsonptodo-app-client"]=this["webpackJsonptodo-app-client"]||[]).push([[0],{127:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},223:function(e,t,n){},226:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(17),c=n.n(s),r=(n(171),n(172),n(12)),o=(n(173),n(19)),l=n(32),d=n(48),h=n(52),p=n(51),j=n(55),u=n.n(j),b=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e)},this.login=function(e){return t.instance.post("/login",e)},this.logout=function(){return t.instance.post("/logout")},this.isLoggedIn=function(){return t.instance.get("/loggedin")},this.edit=function(e){return t.instance.put("/edit",e)},this.instance=u.a.create({baseURL:"".concat("https://pillowtalk-app.herokuapp.com/api","/auth"),withCredentials:!0})},m=n(1),x=i.a.createContext(),g=x.Consumer,O=x.Provider,f=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isLoggedIn:!1,isLoading:!0,user:null},e.authService=new b,e.signup=function(t){e.authService.signup(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t){e.authService.login(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){e.authService.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.error(e)}))},e.edit=function(t){e.authService.edit(t).then((function(t){return e.setState(Object(o.a)(Object(o.a)({},e.state),{},{user:t.data}))})).catch((function(e){return console.error(e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.authService.isLoggedIn().then((function(t){e.setState({isLoggedIn:!0,isLoading:!1,user:t.data})})).catch((function(){e.setState({isLoggedIn:!1,isLoading:!1,user:null})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user;return n?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)(O,{value:{isLoading:n,isLoggedIn:t,user:a,signup:this.signup,login:this.login,logout:this.logout,edit:this.edit},children:this.props.children})}}]),n}(i.a.Component),y=function(e){return function(t){return Object(m.jsx)(g,{children:function(n){var a=n.isLoading,i=n.isLoggedIn,s=n.user,c=n.signup,r=n.login,l=n.logout,d=n.edit;return Object(m.jsx)(e,Object(o.a)({isLoggedIn:i,isLoading:a,user:s,signup:c,login:r,logout:l,edit:d},t))}})}};var v=y((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,i=e.path,s=e.redirectPath,c=void 0===s?"/":s,l=e.component;return n?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)(r.b,{exact:a,path:i,render:function(e){return t?Object(m.jsx)(r.a,{to:c}):t?void 0:Object(m.jsx)(l,Object(o.a)({},e))}})}));var w,S=y((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,i=e.path,s=e.component;return n?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)(r.b,{exact:a,path:i,render:function(e){return t?t?Object(m.jsx)(s,Object(o.a)({},e)):void 0:Object(m.jsx)(r.a,{to:"/login"})}})})),N=n(13),C=n.p+"static/media/eric-nopanen-3skLpaOBlMw-unsplash.fff481f0.jpg",k=n(129),D=n(71),L=D.b.p(w||(w=Object(k.a)(["\n  font-family: ",";\n  color: ",";\n  text-transform: ",";\n  font-size: ",";\n  line-height: ","; \n"])),(function(e){var t=e.theme,n=e.weight,a=void 0===n?"gelion":n;return t.typography[a]}),(function(e){var t=e.theme,n=e.color,a=void 0===n?"primary":n;return t.color[a]}),(function(e){return e.uppercase?"uppercase":"none"}),(function(e){var t=e.theme,n=e.size,a=void 0===n?"s":n;return t.typographySizes[a].size}),(function(e){var t=e.theme,n=e.size,a=void 0===n?"s":n;return t.typographySizes[a].line})),I=(Object(D.c)(L),n(196),n(65)),P=n(258),F=(n(197),a.Component,n(261)),E=n(262);n(198);var A=y((function(e){return Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)(F.a,{position:"static",style:{background:"white"},children:Object(m.jsxs)(E.a,{children:[Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/",children:Object(m.jsx)("img",{width:"200px",height:"38px",src:"/PILLOWTALK (3) (2).png",alt:""})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/parties",className:"home-link1",children:"Browse parties"}),e.isLoggedIn?Object(m.jsx)("div",{children:Object(m.jsx)(N.b,{className:"user-icon",style:{textDecoration:"none"},to:"/profile",children:Object(m.jsx)("img",{style:{width:"20px",height:"20px",background:"none"},src:"/user.png",alt:""})})}):Object(m.jsxs)("div",{children:[Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/signup",className:"home-link2",children:"Sign Up"}),Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/login",className:"home-link3",children:"Log In"})]})]})}),Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/create-party",id:"post-btn",children:"Post a party"})]})}),Object(m.jsx)("div",{})]})}));n(141),n(199);var z=function(){return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)("div",{className:"navbar",children:Object(m.jsx)(A,{findByCity:()=>console.log("hello"),isHomePage:!0})}),Object(m.jsxs)("div",{className:"home-wrapper",children:[Object(m.jsx)("img",{className:"main-img",display:"inline",width:"100vw",height:"100vh",src:C}),Object(m.jsx)("h1",{id:"title",children:"Discover your next wild night."}),Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/parties",children:Object(m.jsx)(P.a,{id:"signup-button",style:{borderRadius:"5px"},variant:"contained",color:"secondary",children:"Search for parties"})})]})]})};const R=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,T={email:e=>{let t;return e?R.test(e)||(t="Invalid email"):t="Email is required",t},password:e=>{let t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}};class M extends a.Component{constructor(e){super(e),this.state={fields:{email:"",password:""},errors:{email:null,password:null}}}handleSubmit(e){e.preventDefault(),console.log(this.state.fields),this.props.login(this.state.fields)}handleChange(e){const{name:t,value:n}=e.target;this.setState({fields:{...this.state.fields,[t]:n},errors:{...this.state.errors,[t]:T[t](n)}})}render(){const{fields:e}=this.state;return Object(m.jsxs)("div",{className:"signuppage",children:[Object(m.jsx)(A,{}),Object(m.jsxs)("form",{onSubmit:e=>this.handleSubmit(e),children:[Object(m.jsx)("label",{htmlFor:"email",children:Object(m.jsx)("b",{children:"Email"})}),Object(m.jsx)("div",{className:"form-item",children:Object(m.jsx)("input",{type:"text",name:"email",value:e.email,onChange:e=>this.handleChange(e)})}),Object(m.jsx)("label",{htmlFor:"password",children:Object(m.jsx)("b",{children:"Password"})}),Object(m.jsx)("div",{className:"form-item",children:Object(m.jsx)("input",{type:"password",name:"password",value:e.password,onChange:e=>this.handleChange(e)})})]}),Object(m.jsx)(P.a,{type:"submit",variant:"contained",color:"secondary",children:"Log In"})]})}}var U=y(M);n(200);const B=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,H={username:e=>{let t;return e||(t="Username is required"),t},email:e=>{let t;return e?B.test(e)||(t="Invalid email"):t="Email is required",t},password:e=>{let t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}};class G extends a.Component{constructor(e){super(e),this.state={fields:{username:"",email:"",password:""},errors:{username:null,email:null,password:null}}}handleSubmit(e){e.preventDefault(),console.log(this.state.fields),this.props.signup(this.state.fields)}handleChange(e){const{name:t,value:n}=e.target;this.setState({fields:{...this.state.fields,[t]:n},errors:{...this.state.errors,[t]:H[t](n)}})}render(){const{fields:e}=this.state;return Object(m.jsxs)("div",{className:"signuppage",children:[Object(m.jsx)(A,{}),Object(m.jsxs)("form",{onSubmit:e=>this.handleSubmit(e),children:[Object(m.jsx)("label",{htmlFor:"username",children:Object(m.jsx)("b",{children:"Username"})}),Object(m.jsx)("div",{className:"form-item",children:Object(m.jsx)("input",{placeholder:"Username",type:"text",name:"username",value:e.username,onChange:e=>this.handleChange(e)})}),Object(m.jsx)("label",{htmlFor:"email",children:Object(m.jsx)("b",{children:"Email"})}),Object(m.jsx)("div",{className:"form-item",children:Object(m.jsx)("input",{placeholder:"Email",type:"text",name:"email",value:e.email,onChange:e=>this.handleChange(e)})}),Object(m.jsx)("label",{htmlFor:"password",children:Object(m.jsx)("b",{children:"Password"})}),Object(m.jsx)("div",{className:"form-item",children:Object(m.jsx)("input",{placeholder:"Password",type:"password",name:"password",value:e.password,onChange:e=>this.handleChange(e)})})]}),Object(m.jsx)(P.a,{type:"submit",variant:"contained",color:"secondary",children:"Sign Up"})]})}}var J=y(G),q=function e(){var t=this;Object(l.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getByCity=function(e){return t.instance.get("/search?city=".concat(e))},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(e){return t.instance.delete("/".concat(e))},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.updateAttendees=function(e,n){return t.instance.post("/updateAttendees/".concat(e),n)},this.getUserParties=function(e){return t.instance.get("/host/".concat(e))},this.getUserAttendancees=function(e){return t.instance.get("/attendees/".concat(e))},this.getgoingTo=function(e){return t.instance.get("/goingTo/".concat(e))},this.editparty=function(e,n){return t.instance.put("/editParty/".concat(e),n)},this.instance=u.a.create({baseURL:"".concat("https://pillowtalk-app.herokuapp.com/api","/parties"),withCredentials:!0})},W=(n(117),n(201),n(263)),Y=n(264),_=n(265),K=n(267),$=n(266),V=n(273);Object(W.a)({root:{maxWidth:345}});function X(e){var t=e.name,n=e.street,a=e.images,i=e.price,s=e.date,c=e.attendees,r=e.maxAttendees,o=e.city;return Object(m.jsx)(Y.a,{className:"card",children:Object(m.jsx)(_.a,{children:Object(m.jsxs)(V.a,{display:"flex",p:1,children:[Object(m.jsx)($.a,{className:"image",component:"img",alt:"party-image",height:"200",image:a[0]}),Object(m.jsxs)(K.a,{className:"content",children:[Object(m.jsx)("b",{children:t})," ",Object(m.jsx)("span",{children:s.substring(0,15)}),Object(m.jsx)("hr",{className:"hr1"}),Object(m.jsxs)("span",{children:[n,", ",o]}),Object(m.jsxs)("span",{children:[c.length," attendees (max: ",r,")"]}),Object(m.jsxs)("span",{children:[i,"\u20ac"]})]})]})})})}var Z=n(5),Q=n(268),ee=n(270),te=n(271),ne=n(269),ae=n(90),ie=n(86),se=n(134),ce=n.n(se),re=n(135),oe=n.n(re),le=n(136),de=n.n(le),he=(n(202),n(133)),pe=n.n(he);const je=Object(W.a)((e=>({root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]}})));function ue({title:e,image:t,description:n,date:a,userphoto:s}){const c=je(),[r,o]=i.a.useState(!1);return Object(m.jsxs)(Y.a,{id:"card2",className:c.root,children:[Object(m.jsx)(Q.a,{avatar:Object(m.jsx)("img",{id:"icons",src:"/party-hat.png"}),action:Object(m.jsx)(ne.a,{"aria-label":"settings",children:Object(m.jsx)(pe.a,{})}),title:e}),Object(m.jsx)($.a,{className:c.media,image:t,title:"Paella dish"}),Object(m.jsx)(K.a,{children:Object(m.jsx)(ae.a,{variant:"body2",color:"textSecondary",component:"p",children:n})}),Object(m.jsxs)(ee.a,{disableSpacing:!0,children:[Object(m.jsx)(ne.a,{"aria-label":"add to favorites",children:Object(m.jsx)(ce.a,{})}),Object(m.jsx)(ne.a,{"aria-label":"share",children:Object(m.jsx)(oe.a,{})}),Object(m.jsx)(ne.a,{className:Object(Z.a)(c.expand,{[c.expandOpen]:r}),onClick:()=>{o(!r)},"aria-expanded":r,"aria-label":"show more",children:Object(m.jsx)(de.a,{})})]}),Object(m.jsx)(te.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(m.jsxs)(K.a,{children:[Object(m.jsx)(ae.a,{paragraph:!0,children:"Method:"}),Object(m.jsx)(ae.a,{paragraph:!0,children:"Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10 minutes."}),Object(m.jsx)(ae.a,{paragraph:!0,children:"Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over medium-high heat. Add chicken, shrimp and chorizo, and cook, stirring occasionally until lightly browned, 6 to 8 minutes. Transfer shrimp to a large plate and set aside, leaving chicken and chorizo in the pan. Add piment\xf3n, bay leaves, garlic, tomatoes, onion, salt and pepper, and cook, stirring often until thickened and fragrant, about 10 minutes. Add saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil."}),Object(m.jsx)(ae.a,{paragraph:!0,children:"Add rice and stir very gently to distribute. Top with artichokes and peppers, and cook without stirring, until most of the liquid is absorbed, 15 to 18 minutes. Reduce heat to medium-low, add reserved shrimp and mussels, tucking them down into the rice, and cook again without stirring, until mussels have opened and rice is just tender, 5 to 7 minutes more. (Discard any mussels that don\u2019t open.)"}),Object(m.jsx)(ae.a,{children:"Set aside off of the heat to let rest for 10 minutes, and then serve."})]})})]})}n(204);class be extends a.Component{constructor(e){super(e),this.state={username:"",photo:"",parties:[],attendancees:[]},this.authService=new b,this.partyService=new q}deleteParty(e){this.partyService.deleteOne(e).then((()=>console.log("deleted"))).catch((e=>console.log("Error delete",e))),this.refreshState(this.props.user.id)}refreshState(e){console.log("this.state.parties",this.state.parties),this.authService.isLoggedIn().then((e=>{console.log("LLEGAN BIEN LOS response.data",e.data),this.setState({username:e.data.username,photo:e.data.photo})})).catch((e=>console.error(e))),this.partyService.getUserParties(e).then((e=>{console.log(e.data),this.setState({parties:e.data}),console.log("STATE AFTER DATA",this.state.parties)})).catch((e=>console.log("HOLA SOy UN ERROR DEL SEGUNDO RESPONSE"))),this.partyService.getUserAttendancees(e).then((e=>{console.log(e.data),this.setState({attendancees:e.data}),console.log("I AM GOING TO THESE PARTYS",this.state.parties)})).catch((e=>console.log("HOLA SOy UN ERROR DEL SEGUNDO RESPONSE")))}componentDidMount(){this.refreshState(this.props.user.id)}render(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(A,{}),Object(m.jsxs)("div",{className:"cover",children:[Object(m.jsx)("div",{className:"grey"}),Object(m.jsx)("div",{className:"white"}),Object(m.jsxs)("div",{className:"picturebutton",children:[Object(m.jsx)("img",{id:"profileimage",src:this.state.photo,style:{width:"200px"}}),Object(m.jsx)(N.b,{to:"edit-user",children:Object(m.jsx)("button",{style:{width:"200px"},children:"edit user"})})]})]}),Object(m.jsx)("div",{class:"titleprofile",children:Object(m.jsx)("h2",{children:"Your Created Parties"})}),Object(m.jsx)("div",{className:"section",children:this.state.parties.slice(this.state.parties.length-4).map((e=>Object(m.jsxs)("div",{className:"partiescreated",children:[Object(m.jsx)(N.b,{id:"cards-party2",to:"/party-details/".concat(e.id),children:Object(m.jsx)(ue,{userphoto:this.state.photo,date:e.date,description:e.description,title:e.name,image:e.images[0]?e.images[0]:"https://onlyibizaboatparty.com/img/clubberPack.jpg"})}),Object(m.jsx)("button",{onClick:()=>this.deleteParty(e.id),children:"Delete party"}),Object(m.jsx)(N.b,{to:"/edit-party/".concat(e.id),children:"Edit Party"})]})))}),Object(m.jsx)("div",{class:"titleprofile",children:Object(m.jsx)("h2",{children:"Your Joined Parties"})}),Object(m.jsx)("div",{className:"section",children:this.state.attendancees.slice(this.state.attendancees.length-4).map((e=>Object(m.jsx)("div",{className:"partiescreated",children:Object(m.jsx)(N.b,{id:"cards-party2",to:"/party-details/".concat(e.id),children:Object(m.jsx)(ue,{userphoto:this.state.photo,description:e.description,title:e.name,image:e.images[0]?e.images[0]:"https://onlyibizaboatparty.com/img/clubberPack.jpg"})})})))}),Object(m.jsx)("button",{onClick:()=>this.props.logout(),children:"Log out"})]})}}var me=y(be),xe=(n(205),n(89)),ge=n(53),Oe=n(38),fe=n(275),ye=n(138),ve=n.n(ye),we=(n(223),n(64)),Se=n(24),Ne=n(272),Ce=Object(W.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},search:Object(Oe.a)({position:"relative",borderRadius:e.shape.borderRadius,marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"7px"},inputRoot:{color:"inherit"},inputInput:Object(Oe.a)({padding:e.spacing(2,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionMobile:Object(Oe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var ke=Object(r.g)((function(e){var t=Ce(),n=i.a.useState(""),a=Object(ge.a)(n,2),s=a[0],c=a[1],r=i.a.useState(new Date(Date.now())),o=Object(ge.a)(r,2),l=o[0],d=o[1];return i.a.useEffect((function(){e.findByCity(s)}),[s]),Object(m.jsx)("div",{className:t.grow,children:Object(m.jsx)(F.a,{position:"static",style:{background:"white"},children:Object(m.jsxs)(E.a,{children:[Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/",children:Object(m.jsx)("img",{width:"200px",height:"38px",src:"/PILLOWTALK (3) (2).png",alt:""})}),Object(m.jsxs)("div",{className:t.search,children:["//isHomePage",e.isHomePage?Object(m.jsxs)("div",{children:[Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/parties",className:"home-link1",children:Object(m.jsx)(P.a,{variant:"outlined",color:"secondary",children:"Browse parties"})}),Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/signup",className:"home-link2",children:"Sign Up"}),Object(m.jsx)(N.b,{style:{textDecoration:"none",color:"black"},to:"/login",className:"home-link3",children:"Log In"})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:t.searchIcon,children:Object(m.jsx)(ve.a,{className:"icon",style:{background:"#f50057",borderRadius:"50%",padding:"4px"}})}),Object(m.jsx)(fe.a,{className:"city-input",onChange:function(e){c(e.target.value)},value:s,name:"city",style:{marginLeft:"200px",borderRadius:"30px 0px 0px 30px",width:"15vw",border:"2px solid #c7c7c7",color:"black",marginTop:"0px",marginRight:"0px",marginBottom:"10px",borderRight:"none",height:"36px",paddingBottom:"9px"},placeholder:"Search by city",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}}),Object(m.jsx)(Se.a,{utils:we.a,children:Object(m.jsx)(Ne.a,{className:"input",style:{marginLeft:"0px",paddingLeft:"12px",paddingRight:"0px",marginRight:"100px",border:"2px solid #c7c7c7",borderRadius:"0px 30px 30px 0px",paddingBottom:"0px",marginTop:"0px"},InputProps:{disableUnderline:!0},disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",value:l,onChange:function(t){var n=new Date(t);d(n),e.findByDate(t)},inputStyle:{textAlign:"center"},KeyboardButtonProps:{"aria-label":"change date"}})})]})]}),Object(m.jsx)("div",{className:t.grow}),Object(m.jsxs)("div",{className:t.sectionDesktop,children:[Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/create-party",children:Object(m.jsx)(P.a,{style:{borderRadius:"30px",padding:"10px 20px",position:"absolute",top:"18px",right:"100px",fontSize:"12px"},variant:"outlined",color:"secondary",className:"post-btn",id:"create-btn",children:"Post a party"})}),Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/profile",children:Object(m.jsx)("img",{style:{marginTop:"15px",width:"25px",height:"25px"},src:"/user.png",alt:"user-profile"})})]})]})})})}));var De=y((function(e){const[t,n]=i.a.useState(""),[s,c]=Object(a.useState)([]),[r,o]=Object(a.useState)(null),[l,d]=Object(a.useState)({latitude:41.390205,longitude:2.154007,width:"48vw",height:"100vh",zoom:12}),h=new q;console.log();const p=()=>{h.get().then((e=>{c(e.data)})).catch((e=>console.error(e)))};return Object(a.useEffect)((()=>{p()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{class:"navbarfixed",children:Object(m.jsx)(ke,{className:"navbar",findByDate:e=>{return t=e,c(s.filter((e=>e.date.substring(0,10)===String(t).substring(0,10))));var t},findByCity:e=>(e=>1==e.length?p():(n(e),c(s.filter((t=>t.city.toLowerCase().includes(e.toLowerCase()))))))(e),isHomePage:!1})}),Object(m.jsxs)("div",{id:"partiesList",children:[Object(m.jsxs)("h1",{className:"title",children:["Parties in ",t||"..."]}),Object(m.jsx)("div",{className:"parties",children:s.map((e=>Object(m.jsx)("div",{children:Object(m.jsx)(N.b,{style:{textDecoration:"none"},to:"/party-details/".concat(e.id),children:Object(m.jsx)(X,{...e})},e.id)})))})]}),Object(m.jsx)("div",{class:"mapdiv",children:Object(m.jsxs)(xe.c,{className:"map",...l,mapboxApiAccessToken:"pk.eyJ1IjoidG9uaWNzeXMiLCJhIjoiY2tvdHN4NWcyMDl4azJ4bXFuMDFlbmZrNyJ9._wxd5YkLHR5rpVJ95FRdYA",onViewportChange:e=>{d(e)},mapStyle:"mapbox://styles/mapbox/streets-v11",children:[s.map((e=>Object(m.jsx)(xe.a,{latitude:e.latitude,longitude:e.longitude,children:Object(m.jsx)("button",{className:"marker-btn",children:Object(m.jsx)("img",{style:{width:"40px",height:"40px"},src:"/marcador-de-posicion.png",alt:""})})}))),r?Object(m.jsx)(xe.b,{latitude:r.latitude,longitude:r.longitude,onClose:()=>{o(null)},children:Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("h2",{children:r.name}),Object(m.jsx)("p",{children:r.description})]})}):null]})})]})}));n(224),n(225),n(226);class Le extends i.a.Component{constructor(e){super(e),this.state={name:"",date:"",images:[],ateendees:[],price:0,description:"",city:"",host:"",street:"",id:"",maxAttendees:0},this.partyService=new q}refreshState(e){this.partyService.getOne(e).then((e=>{this.setState({maxAttendees:e.data.maxAttendees,ateendees:e.data.attendees,id:e.data.id,host:e.data.host,name:e.data.name,date:e.data.date,images:e.data.images,description:e.data.description,city:e.data.city,street:e.data.street,price:e.data.price})})).catch((e=>console.error(e)))}joinparty(e,t){console.log(e,t),this.partyService.updateAttendees(e,t).then((()=>{console.log("updated")})).catch((e=>console.log("error"))),this.refreshState(this.props.match.params.id)}componentDidMount(){this.refreshState(this.props.match.params.id)}render(){const{name:e,description:t,images:n,price:a,host:i,ateendees:s,maxAttendees:c,street:r,date:o,city:l,id:d}=this.state;return Object(m.jsxs)("div",{children:[Object(m.jsx)(A,{}),Object(m.jsxs)("div",{className:"party-details",children:[Object(m.jsx)("h1",{className:"title",children:e}),Object(m.jsx)("p",{}),Object(m.jsx)("p",{id:"date",children:o.substring(0,15)}),Object(m.jsxs)("div",{className:"gallery",children:[Object(m.jsx)("img",{"border-radius":"5px",className:"images",width:"564",height:"376",src:n[0]?n[0]:"https://faro.travel/blog/wp-content/uploads/2017/05/Fiesta.jpg",alt:""}),Object(m.jsx)("img",{className:"images",width:"274",height:"183",src:n[1]?n[1]:"https://micasainn.com/wp-content/uploads/2016/06/IBIZA.jpg",alt:""}),Object(m.jsx)("img",{className:"images",width:"274",height:"183",src:n[2]?n[2]:"https://assets.entrepreneur.com/content/3x2/2000/1594842136-Depositphotos-55474203-l-2015.jpg?width=700&crop=2:1",alt:""}),Object(m.jsx)("img",{className:"images",width:"274",height:"183",src:n[3]?n[3]:"https://revistahsm.com/wp-content/uploads/2018/08/Fiestas.png",alt:""}),Object(m.jsx)("img",{className:"images",width:"274",height:"183",src:n[4]?n[4]:"https://i.blogs.es/db2df3/fiestas-covid-en-mexico/1366_2000.jpg",alt:""})]}),Object(m.jsxs)("div",{className:"section2",children:[Object(m.jsxs)("div",{className:"information",children:[Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:"iconInfo",children:[Object(m.jsx)("img",{id:"icons",src:"/party-hat.png"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"city",children:"Host"}),Object(m.jsx)("p",{children:i.username})]})]}),Object(m.jsxs)("div",{className:"iconInfo",children:[Object(m.jsx)("img",{id:"icons",src:"/dance.png"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"city",children:"City"}),Object(m.jsx)("p",{children:l})]})]}),Object(m.jsxs)("div",{className:"iconInfo",children:[Object(m.jsx)("img",{id:"icons",src:"/mirror-ball.png"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"city",children:"Direction"}),Object(m.jsx)("p",{children:r})]})]}),Object(m.jsxs)("div",{className:"iconInfo",children:[Object(m.jsx)("img",{id:"icons",src:"/toast.png"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"city",children:"Description"}),Object(m.jsx)("p",{children:t})]})]}),Object(m.jsxs)("div",{className:"iconInfo",children:[Object(m.jsx)("img",{id:"icons",src:"/sound-system.png"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"city",children:"People joined "}),Object(m.jsxs)("p",{children:[s.length," of ",c]})]})]}),Object(m.jsx)("hr",{})]}),Object(m.jsxs)("div",{className:"jointhisparty",children:[Object(m.jsxs)("div",{id:"price",children:["Price: ",a,"\u20ac"]}),Object(m.jsx)("p",{children:"is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's s mmy text of the printing and typesetting industry. Lorem Ipsum has been the industry's s."}),Object(m.jsx)(N.b,{to:"/stripe/".concat(this.props.match.params.id),children:Object(m.jsx)(P.a,{onClick:()=>this.joinparty(this.props.match.params.id,this.props.user.id),id:"joinpartybutton",variant:"contained",color:"secondary",children:"Join this Party"})})]})]})]})]})}}var Ie=y(Le);n(127);var Pe=Object(r.g)((function(e){var t=i.a.useState({name:"",description:"",images:null,date:new Date(Date.now()),latitude:0,longitude:0,city:"",street:"",price:0,maxAttendees:0}),n=Object(ge.a)(t,2),a=n[0],s=n[1],c=new q,r=function(e){var t=e.target,n=t.name,i=t.value,c=t.type,r=t.files;s(Object(o.a)(Object(o.a)({},a),{},Object(Oe.a)({},n,"file"===c?r:i)))};return Object(m.jsxs)("div",{children:[Object(m.jsx)(A,{}),Object(m.jsx)("div",{className:"formpage",children:Object(m.jsxs)("form",{className:"form",onSubmit:function(t){return function(t){t.preventDefault(),console.log("These are the fields",a);var n=new FormData;Object.keys(a).forEach((function(e){"images"===e&&Object(I.a)(a[e]).forEach((function(e){return n.append("images",e)})),n.append(e,a[e])})),c.create(n).then((function(){e.history.push("/parties"),console.log("Created"),s({name:"",description:"",images:null,date:new Date(Date.now()),latitude:0,longitude:0,city:"",street:"",price:0,maxAttendees:0})})).catch((function(e){return console.error(e)}))}(t)},children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{type:"text",value:a.name,onChange:function(e){return r(e)},name:"name"}),Object(m.jsx)("label",{htmlFor:"name",children:"Description"}),Object(m.jsx)("input",{type:"text",value:a.description,onChange:function(e){return r(e)},name:"description"}),Object(m.jsx)("label",{htmlFor:"city",children:"City"}),Object(m.jsx)("input",{type:"text",value:a.city,onChange:function(e){return r(e)},name:"city"}),Object(m.jsx)("label",{htmlFor:"street",children:"Street"}),Object(m.jsx)("input",{type:"text",value:a.street,onChange:function(e){return r(e)},name:"street"}),Object(m.jsx)("label",{htmlFor:"latitude",children:"Latitude"}),Object(m.jsx)("input",{type:"number",value:a.latitude,onChange:function(e){return r(e)},name:"latitude"}),Object(m.jsx)("label",{htmlFor:"longitude",children:"Longitude"}),Object(m.jsx)("input",{type:"number",value:a.longitude,onChange:function(e){return r(e)},name:"longitude"}),Object(m.jsx)(Se.a,{utils:we.a,children:Object(m.jsx)(Ne.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date picker inline",value:a.date,onChange:function(e){var t=new Date(e);console.log(new Date(e)),s(Object(o.a)(Object(o.a)({},a),{},{date:t}))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("label",{htmlFor:"price",children:"Price"}),Object(m.jsx)("input",{type:"number",value:a.price,onChange:function(e){return r(e)},name:"price"}),Object(m.jsx)("label",{htmlFor:"maxAtendees",children:"Maximum number of attendees:"}),Object(m.jsx)("input",{type:"number",value:a.maxAttendees,onChange:function(e){return r(e)},name:"maxAttendees"}),Object(m.jsx)("label",{htmlFor:"images",children:"Images "}),Object(m.jsx)("input",{type:"file",multiple:"multiple",name:"images",onChange:function(e){return r(e)}}),Object(m.jsx)("button",{id:"createpartybutton",type:"submit",children:"Create party"})]})})]})}));function Fe(e){const[t,n]=i.a.useState({name:"",description:"",images:null,date:new Date(Date.now()),city:"",street:"",price:0,maxAttendees:0}),a=new q,s=e=>{const{name:a,value:i,type:s,files:c}=e.target;n({...t,[a]:"file"===s?c:i})};return Object(m.jsxs)("div",{children:[Object(m.jsx)(A,{}),Object(m.jsx)("div",{className:"formpage",children:Object(m.jsxs)("form",{className:"form",onSubmit:i=>(i=>{i.preventDefault(),console.log("These are the fields",t);const s=new FormData;Object.keys(t).forEach((e=>{"images"===e&&[...t[e]].forEach((e=>s.append("images",e))),s.append(e,t[e])})),a.editparty(e.match.params.id,s).then((()=>{console.log("PARTY EDITED"),n({name:"",description:"",images:null,date:new Date(Date.now()),city:"",street:"",price:0,maxAttendees:0})})).catch((e=>console.error(e)))})(i),children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(m.jsx)("input",{type:"text",value:t.name,onChange:e=>s(e),name:"name"}),Object(m.jsx)("label",{htmlFor:"name",children:"Description:"}),Object(m.jsx)("input",{type:"text",value:t.description,onChange:e=>s(e),name:"description"}),Object(m.jsx)("label",{htmlFor:"city",children:"city:"}),Object(m.jsx)("input",{type:"text",value:t.city,onChange:e=>s(e),name:"city"}),Object(m.jsx)("label",{htmlFor:"street",children:"street:"}),Object(m.jsx)("input",{type:"text",value:t.street,onChange:e=>s(e),name:"street"}),Object(m.jsx)(Se.a,{utils:we.a,children:Object(m.jsx)(Ne.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date picker inline",value:t.date,onChange:e=>{const a=new Date(e);n({...t,date:a})},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(m.jsx)("label",{htmlFor:"price",children:"price:"}),Object(m.jsx)("input",{type:"number",value:t.price,onChange:e=>s(e),name:"price"}),Object(m.jsx)("label",{htmlFor:"maxAtendees",children:"Maximum number of atendees:"}),Object(m.jsx)("input",{type:"number",value:t.maxAttendees,onChange:e=>s(e),name:"maxAttendees"}),Object(m.jsx)("label",{htmlFor:"images",children:"Upload images "}),Object(m.jsx)("input",{type:"file",multiple:"multiple",name:"images",onChange:e=>s(e)}),Object(m.jsx)("button",{id:"createpartybutton",type:"submit",children:"Create party"})]})})]})}var Ee={username:function(e){var t;return e||(t="Username is required"),t},photo:function(e){var t;return e||(t="Photo is required"),t}},Ae=y(function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",photo:null},errors:{username:null,photo:null}},a}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.fields);var n=new FormData;Object.keys(this.state.fields).forEach((function(e){n.append(e,t.state.fields[e])})),this.props.edit(n)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value,i=t.type,s=t.files;console.log(s),this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(Oe.a)({},n,"file"===i?s[0]:a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(Oe.a)({},n,"file"===i?Ee[n](s[0]):Ee[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(m.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(m.jsxs)("div",{className:"form-item",children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(m.jsx)("input",{type:"text",name:"username",value:t.username,onChange:function(t){return e.handleChange(t)}})]}),Object(m.jsxs)("div",{className:"form-item",children:[Object(m.jsx)("label",{htmlFor:"photo",children:"Photo: "}),Object(m.jsx)("input",{type:"file",name:"photo",onChange:function(t){return e.handleChange(t)}})]}),Object(m.jsxs)(N.b,{style:{textDecoration:"none"},to:"/profile",children:[" ",Object(m.jsx)("button",{type:"submit",children:"EDIT"})]})]})}}]),n}(a.Component)),ze=(n(227),n(57)),Re=n(139),Te=n(100),Me=n.n(Te),Ue=n(140),Be=(n(229),{iconStyle:"solid",style:{base:{iconColor:"white",color:"white",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"white"},"::placeholder":{color:"white"}},invalid:{iconColor:"grey",color:"grey"}}});function He(e){var t=Object(a.useState)(!1),n=Object(ge.a)(t,2),i=n[0],s=n[1],c=Object(ze.useStripe)(),r=Object(ze.useElements)(),o=Object(a.useState)(50),l=Object(ge.a)(o,2),d=l[0],h=l[1];new q;Object(a.useEffect)((function(){console.log("Hola que tal"),console.log(e.id),e.id,u.a.get("".concat("https://pillowtalk-app.herokuapp.com/api","/parties/").concat(e.id.id)).then((function(e){console.log("RESPONSE:DATA:",e.data),h(e.data.price)})).catch((function(e){return console.error(e)}))}),[]);var p=function(){var t=Object(Ue.a)(Me.a.mark((function t(n){var a,i,o,l;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,c.createPaymentMethod({type:"card",card:r.getElement(ze.CardElement)});case 3:if(a=t.sent,i=a.error,o=a.paymentMethod,i){t.next=20;break}return t.prev=7,l=o.id,t.next=11,u.a.post("http://localhost:5000/payment/".concat(e.id),{number:100*d,amount:100,id:l});case 11:t.sent.data.succes&&(console.log("Succesfull payment"),s(!0)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),console.log("Error",t.t0);case 18:t.next=21;break;case 20:console.log(i.mmessage);case 21:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)(me,{}):Object(m.jsx)("div",{children:Object(m.jsxs)("form",{class:"payForm",onSubmit:p,children:[Object(m.jsx)("img",{id:"logopayment",src:"/PILLOWTALK (3) (2).png"}),Object(m.jsx)("fieldset",{className:"FormGroup",children:Object(m.jsx)("div",{className:"FormRow",children:Object(m.jsx)(ze.CardElement,{options:Be})})}),Object(m.jsxs)("button",{id:"paybutton",children:["Pay ",d,"\u20ac"]})]})})})}var Ge=Object(Re.a)("pk_test_51IsC66HdLBxJYxDSMcaUmC1iQS4oeE12XRKUv3DNzddCOkDtnt2s6NyikF4vFZa3sRjPmLy610PT1Nuf7FucTI7q006VQJIvF0"),Je=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(ze.Elements,{stripe:Ge,children:Object(m.jsx)(He,{id:this.props.match.params})})}}]),n}(a.Component);var qe=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(r.d,{children:[Object(m.jsx)(r.b,{exact:!0,path:"/",component:z}),Object(m.jsx)(r.b,{exact:!0,path:"/stripe/:id",component:Je}),Object(m.jsx)(S,{path:"/edit-party/:id",component:Fe}),Object(m.jsx)(S,{path:"/create-party",component:Pe,redirectPath:"/parties"}),Object(m.jsx)(r.b,{path:"/parties",exact:!0,component:De}),Object(m.jsx)(v,{exact:!0,path:"/signup",component:J,redirectPath:"/parties"}),Object(m.jsx)(v,{exact:!0,path:"/login",component:U,redirectPath:"/parties"}),Object(m.jsx)(r.b,{exact:!0,path:"/signup",component:J,redirectPath:"/parties"}),Object(m.jsx)(S,{path:"/party-details/:id",component:Ie}),Object(m.jsx)(S,{exact:!0,path:"/profile/",component:me}),Object(m.jsx)(S,{exact:!0,path:"/edit-user/",component:Ae})]})})},We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))},Ye={color:{primary:"#2DC5FA",secondary:"#5252F6",red:"#F95C5C",green:"#4CE489",yellow:"#FDD262",blue:"#0085FF",black:"#2B2F30",white:"white"},breakpoints:{mobileMax:"420px",tabletMin:"421px",tabletMax:"768px",desktopMin:"1025px",desktopMax:"1441px"},typography:{gelion:"Gelion-Regular",gelionMedium:"Gelion-Medium",superDisplay:"GT-Super-Display"},typographySizes:{s:{size:"12px",line:"15px"},m:{size:"16px",line:"19px"},l:{size:"32px",line:"35px"},xl:{size:"96px",line:"106px"}},spacing:{small:"16px",medium:"32px",large:"40px"}};c.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(D.a,{theme:Ye,children:Object(m.jsx)(f,{children:Object(m.jsx)(qe,{})})})})}),document.getElementById("root")),We()}},[[230,1,2]]]);
//# sourceMappingURL=main.cef95673.chunk.js.map